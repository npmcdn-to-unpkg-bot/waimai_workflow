define("ops:widget/search/Search.jsx",function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=e("ops:components/react/react.js"),i=a(o),l=e("ops:components/react-router/lib/index.js"),r=e("ops:components/antd/lib/index.js"),d=e("ops:static/js/utils/ajax.js"),s=a(d),c={topMenu:{position:"relative",width:"70%",height:"50px",marginTop:"100px",marginLeft:"50px"},dropBtn:{marginLeft:"10px","float":"left"},batchManage:{position:"absolute",right:0},table:{marginLeft:"55px",marginTop:"10px"},input:{borderRadius:"5px",marginTop:"2px",outline:"none",height:"25px"},secondMenu:{marginLeft:"50px",marginTop:"20px"},search:{"float":"left",marginLeft:"10px"},secondMenu:{position:"absolute",width:"100%",top:"0px",left:"0",borderBottom:"1px solid #ccc",paddingTop:"20px",paddingBottom:"20px",paddingLeft:"50px",backgroundColor:"#ffffff",zIndex:1}},u=i["default"].createClass({displayName:"search",getInitialState:function(){return{visible:!1,sourceData:[],arr:["ID","主机名","IP","机器ID","系统UUID","内核版本","操作系统","CPU核数","CPU类型","CPU物理核","GCC版本","虚拟化","内存型号","内存大小","磁盘型号","磁盘大小"].map(function(e,t){return{name:e,checked:5>t}})}},componentWillMount:function(){var e=this;s["default"]({headers:{"content-type":"application/json"}}).get("/cmdb/batch/nodes?nodeid=1111").then(function(t){e.setState({sourceData:t.items.map(function(e,t){return{key:t,ID:e.externalID,"主机名":e.hostname,IP:e.ip,"机器ID":e.nodeInfo.machineID,"系统UUID":e.nodeInfo.systemUUID,"内核版本":e.nodeInfo.kernelVersion,"操作系统":e.nodeInfo.osImage,"CPU核数":e.nodeInfo.cpuCore,"CPU类型":e.nodeInfo.cpuModel,"CPU物理核":e.nodeInfo.cpuPhysical,"GCC版本":e.nodeInfo.gccVersion,"虚拟化":e.nodeInfo.virtualization,"内存型号":e.nodeInfo.memModel,"内存大小":e.nodeInfo.memSize,"磁盘型号":e.nodeInfo.diskModel,"磁盘大小":e.nodeInfo.diskSize}})})})},showModal:function(){this.setState({visible:!0})},handleOk:function(){this.setState({visible:!1})},handleCancel:function(){this.setState({visible:!1})},onChange:function(e,t){var n=this.state.arr;n[e].checked=t.target.checked,this.setState({arr:n})},render:function(){var e=this,t=this.state.arr,n=(this.state.sourceData,i["default"].createElement(r.Menu,{onClick:this.handleMenuClick},i["default"].createElement(r.Menu.Item,{key:"1"},i["default"].createElement(l.Link,{to:"/mainengine"},"主机管理")),i["default"].createElement(r.Menu.Item,{key:"2"},"第二个菜单项"),i["default"].createElement(r.Menu.Item,{key:"3"},"第三个菜单项")),t.filter(function(e){return e.checked}).map(function(e){return{title:e.name,dataIndex:e.name}})),a={total:this.state.sourceData.length,current:1,showSizeChanger:!0};return i["default"].createElement("div",null,i["default"].createElement("div",{className:"topMenu",style:c.topMenu},i["default"].createElement("div",{style:c.dropBtn},i["default"].createElement(r.Button,{type:"primary"},"查找")),i["default"].createElement("div",{style:c.dropBtn},i["default"].createElement("input",{style:c.input,type:"text"})),i["default"].createElement("div",{style:c.dropBtn},i["default"].createElement(r.Button,{type:"primary",onClick:this.showModal},"设置字段"),i["default"].createElement(r.Modal,{title:"设置显示字段名称",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,okText:"OK",cancelText:"Cancel"},t.map(function(t,n){return i["default"].createElement("label",{key:n},i["default"].createElement(r.Checkbox,{defaultChecked:t.checked,onChange:e.onChange.bind(e,n)}),t.name)}))),i["default"].createElement("div",{style:c.dropBtn},i["default"].createElement(r.Button,{type:"primary"},"高级查询"))),i["default"].createElement("div",{style:c.table},n.length?i["default"].createElement(r.Table,{columns:n,dataSource:this.state.sourceData,pagination:a}):null))}});t["default"]=u,n.exports=t["default"]});