define("ops:widget/online/online.jsx",function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=e("ops:components/react/react.js"),n=i(s),c=e("ops:components/classnames/index.js"),l=(i(c),e("ops:widget/online/list.jsx")),h=i(l),o=e("ops:widget/online/detail.jsx"),r=i(o),u=e("ops:widget/online/create.jsx"),d=i(u),y=(e("ops:components/react-router/lib/index.js"),e("reqwest")),v=i(y),f=e("ops:components/antd/lib/index.js"),m=f.Tabs.TabPane,b=n["default"].createClass({displayName:"OnLine",componentDidMount:function(){this.changeActivityTab(),this.responseHeader()},getInitialState:function(){return{activeKey:"0",isShowDetail:!1,userName:""}},responseHeader:function(){var e=this;v["default"]({type:"HEAD",url:"/index.html"}).then(function(t){var a=t.getResponseHeader("UUAP-USERNAME");e.setState({userName:a})})},changeActivityTab:function(){var e=location.hash;e.indexOf("create")>=0?this.setState({activeKey:"1"}):e.indexOf("list")>=0?this.setState({activeKey:"0"}):e.indexOf("back")>=0?this.setState({activeKey:"2"}):e.indexOf("detail")>=0&&this.setState({activeKey:"3"})},render:function(){return n["default"].createElement("div",{className:"container"},this.state.isShowDetail?n["default"].createElement(f.Tabs,{type:"card",onTabClick:this.tabClick,defaultActiveKey:"1",activeKey:this.state.activeKey},n["default"].createElement(m,{tab:"列表查询",key:"0"},n["default"].createElement(h["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,activeKey:this.state.activeKey,showDetail:this.showDetail})),n["default"].createElement(m,{tab:"创建上线单",key:"1"},n["default"].createElement(d["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,activeKey:this.state.activeKey,showDetail:this.showDetail})),n["default"].createElement(m,{tab:"创建回滚单",key:"2"},n["default"].createElement(d["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,activeKey:this.state.activeKey,showDetail:this.showDetail})),n["default"].createElement(m,{tab:"上线/回滚单详情",key:"3",activeKey:this.state.activeKey},n["default"].createElement(r["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,showDetail:this.showDetail}))):n["default"].createElement(f.Tabs,{type:"card",onTabClick:this.tabClick,defaultActiveKey:"1",activeKey:this.state.activeKey},n["default"].createElement(m,{tab:"列表查询",key:"0"},n["default"].createElement(h["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,activeKey:this.state.activeKey,showDetail:this.showDetail})),n["default"].createElement(m,{tab:"创建上线单",key:"1"},n["default"].createElement(d["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,activeKey:this.state.activeKey,showDetail:this.showDetail})),n["default"].createElement(m,{tab:"创建回滚单",key:"2"},n["default"].createElement(d["default"],{userName:this.state.userName,changeActivityTab:this.changeActivityTab,activeKey:this.state.activeKey,showDetail:this.showDetail}))))},showDetail:function(e){this.setState({isShowDetail:e})},tabClick:function(e){location.hash="0"==e?"online/list":"1"==e?"online/create":"2"==e?"online/back":"3"==e?"online/detail":"online/detail",this.changeActivityTab()}});t["default"]=b,a.exports=t["default"]});