define("ops:static/js/utils/ajax.js",function(e,t,n){"use strict";function o(e){void 0!==this&&console.warn(["Instance with `new` is deprecated. ","This will be removed in `v2.0.0` version."].join("")),this instanceof o&&console.warn(["Ajax constructor is deprecated. This will be removed in ","`v2.0.0`. Use ajax (lowercase version) without `new` ","keyword instead"].join("")),e=e||{};var t={},n={};return n.methods={progress:function(){},then:function(){},"catch":function(){},always:function(){},done:function(){},error:function(){}},n.maybeData=function(e){return e||null},n.httpMethods=["get","post","put","delete"],n.httpMethods.forEach(function(o){t[o]=function(t,r){return n.xhrConnection(o,t,n.maybeData(r),e)}}),n.xhrConnection=function(e,t,o,r){var s=new XMLHttpRequest;if("get"===e&&n.isObject(o)){var a="?";t.search(/\?/)>=0&&(a="&"),t=[t,n.objectToQueryString(o)].join(a)}return s.open(e,t||"",!0),n.setHeaders(s,r.headers),s.addEventListener("progress",n.progress,!1),s.addEventListener("readystatechange",n.ready,!1),s.send(n.objectToQueryString(o)),n.promises()},n.setHeaders=function(e,t){t=t||{},n.hasContentType(t)||(t["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(t).forEach(function(n){e.setRequestHeader(n,t[n])})},n.hasContentType=function(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})},n.progress=function(e){var t=this;if(e.lengthComputable)var o=e.loaded/e.total;else var o=t.readyState===t.DONE?1:0;n.methods.progress.call(n.methods,o)},n.ready=function(){var e=this;e.readyState===e.DONE&&(e.removeEventListener("readystatechange",n.ready,!1),n.methods.always.apply(n.methods,n.parseResponse(e)),e.status>=200&&e.status<300?(n.methods.then.apply(n.methods,n.parseResponse(e)),n.methods.done.apply(n.methods,n.parseResponse(e))):(n.methods.catch.apply(n.methods,n.parseResponse(e)),n.methods.error.apply(n.methods,n.parseResponse(e))))},n.parseResponse=function(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]},n.promises=function(){var e={};return Object.keys(n.methods).forEach(function(t){e[t]=n.generatePromise.call(this,t)},this),e},n.generatePromise=function(e){return function(t){return n.generateDeprecatedMessage(e),n.methods[e]=t,this}},n.generateDeprecatedMessage=function(e){var t="@fdaciuk/ajax: `%s` is deprecated and will be removed in v2.0.0. Use `%s` instead.";switch(e){case"done":console.warn(t,"done","then");break;case"error":console.warn(t,"error","catch")}},n.objectToQueryString=function(e){return n.isObject(e)?n.getQueryString(e):e},n.getQueryString=function(e){return Object.keys(e).map(function(t){return[encodeURIComponent(t),"=",encodeURIComponent(e[t])].join("")}).join("&")},n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.method&&e.url?n.xhrConnection(e.method,e.url,n.maybeData(e.data),e):t}n.exports=o});